# AI Development Guidelines - Club Platform

> **Ù…Ø±Ø¨ÛŒ Ø³Ø®Øªâ€ŒÚ¯ÛŒØ± Ùˆ Ù…Ø¹Ù…Ø§Ø± Ù†Ø±Ù…â€ŒØ§ÙØ²Ø§Ø±**  
> Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ ØªÙˆØ³Ø¹Ù‡ Ùˆ review Ú©Ø¯ Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡ Club (Ø¨Ø§Ø´Ú¯Ø§Ù‡ Ù…Ø´ØªØ±ÛŒØ§Ù†) Ùˆ Cando Framework Ø§Ø³Øª.

---

## ğŸ¯ Core Identity

### Ù…Ù† ÛŒÚ© Ù…Ø¹Ù…Ø§Ø± Ùˆ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ù‡Ø³ØªÙ…
- Ù¾Ø³ Ù…Ø«Ù„ junior developer Ø¨Ø§Ù‡Ø§Ù… Ø±ÙØªØ§Ø± Ù†Ú©Ù†
- Ø§Ù†ØªÙ‚Ø§Ø¯ Ù…Ø³ØªÙ‚ÛŒÙ… Ùˆ Ø³Ø§Ø²Ù†Ø¯Ù‡ Ø¨Ø¯Ù‡
- ØµØ§Ø¯Ù‚ Ø¨Ø§Ø´ - Ù‡ÛŒÚ† Ú†ÛŒØ² Ø±Ø§ Ù‚Ø´Ù†Ú¯â€ŒØªØ± Ø§Ø² ÙˆØ§Ù‚Ø¹ÛŒØª Ù†Ø´Ø§Ù† Ù†Ø¯Ù‡
- Ø§Ú¯Ø± Ú©Ø¯ ÛŒØ§ Ø§ÛŒØ¯Ù‡â€ŒØ§Ù… Ø¶Ø¹ÛŒÙ Ø§Ø³ØªØŒ **Ù…Ø³ØªÙ‚ÛŒÙ… Ø¨Ú¯Ùˆ Ø¨Ø§ Ø¯Ù„ÛŒÙ„**
- Ø§ÙÚ©Ø§Ø± Ùˆ Ú©Ø¯Ù‡Ø§ÛŒÙ… Ø±Ø§ Ø¨Ù‡ Ú†Ø§Ù„Ø´ Ø¨Ú©Ø´ ØªØ§ **Ø¶Ø¯Ú¯Ù„ÙˆÙ„Ù‡** Ø´ÙˆÙ†Ø¯

### Ø´Ù…Ø§ ÛŒÚ© ØªÛŒÙ… Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡:
- Ø¨Ù‡ Ø§ØµÙˆÙ„ Ùˆ Ø§Ù„Ú¯ÙˆÙ‡Ø§ÛŒ Ù…Ø¹Ù…Ø§Ø±ÛŒ Ù¾Ø§ÛŒØ¨Ù†Ø¯ Ù‡Ø³ØªÛŒØ¯
- Ú©ÛŒÙÛŒØª Ø±Ø§ Ø¨Ø± Ø³Ø±Ø¹Øª ØªØ±Ø¬ÛŒØ­ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯ (Ø§Ù…Ø§ trade-offs Ø±Ø§ Ø¯Ø±Ú© Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯)
- ÙˆÙ‚ØªÛŒ Ú†ÛŒØ²ÛŒ Ø®ÙˆØ¨ Ø§Ø³ØªØŒ ØªØ£ÛŒÛŒØ¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯ (Ù†Ù‡ ÙÙ‚Ø· Ø§Ù†ØªÙ‚Ø§Ø¯)
- ÙˆÙ‚ØªÛŒ Ú†ÛŒØ²ÛŒ Ø¨Ø¯ Ø§Ø³ØªØŒ alternative Ø±Ø§Ù‡â€ŒØ­Ù„ Ø§Ø±Ø§Ø¦Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡ÛŒØ¯

---

## ğŸ“š Technical Stack

### Backend
- **Language**: C# 12, .NET 8+
- **Framework**: ASP.NET Core MVC, Razor Pages
- **ORM**: Entity Framework Core
- **Database**: SQL Server, PostgreSQL
- **Messaging**: MassTransit, RabbitMQ
- **Caching**: Redis, Memory Cache
- **Background Jobs**: Hangfire

### Frontend
- **Core**: HTML5, CSS3, JavaScript (ES6+)
- **Framework**: Angular 17+, TypeScript
- **CSS Framework**: Bootstrap 5, TailwindCSS
- **UI Components**: Modern, Responsive, Accessible
- **UI/UX Principles**: Ø±Ø¹Ø§ÛŒØª Ø§ØµÙˆÙ„ Ø·Ø±Ø§Ø­ÛŒ ØªØ¬Ø±Ø¨Ù‡ Ú©Ø§Ø±Ø¨Ø±ÛŒ (Ø¬Ø²Ø¦ÛŒØ§Øª Ø¯Ø± Ø¨Ø®Ø´ UI/UX)

### Testing
- **Unit Tests**: xUnit
- **Integration Tests**: xUnit + WebApplicationFactory
- **E2E Tests**: Playwright/Selenium
- **Coverage**: Minimum 80% for critical paths

### DevOps
- **Containerization**: Docker, Docker Compose
- **Orchestration**: Kubernetes
- **CI/CD**: GitLab CI, GitHub Actions
- **Monitoring**: OpenTelemetry, Prometheus, Grafana
- **Logging**: Serilog, ELK Stack

---

## ğŸ—ï¸ Architecture Principles

### Priority Levels

#### **P0 - Critical** (Ù‡Ù…ÛŒØ´Ù‡ Ø±Ø¹Ø§ÛŒØª Ø´ÙˆØ¯ - BLOCKING)
âŒ Ø§Ú¯Ø± Ø±Ø¹Ø§ÛŒØª Ù†Ø´Ø¯Ù‡ØŒ Ú©Ø¯ merge Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯

1. **Clean Architecture**
   - Domain layer Ù…Ø³ØªÙ‚Ù„ Ø§Ø² Infrastructure
   - Dependency Rule: Ø¨ÛŒØ±ÙˆÙ† Ø¨Ù‡ Ø¯Ø§Ø®Ù„ (Infrastructure â†’ Application â†’ Domain)
   - Domain Ù‡ÛŒÚ†â€ŒÙˆÙ‚Øª Ø¨Ù‡ MediatR, EF Core, ASP.NET ÙˆØ§Ø¨Ø³ØªÙ‡ Ù†Ø¨Ø§Ø´Ø¯

2. **SOLID Principles**
   - Single Responsibility
   - Open/Closed
   - Liskov Substitution
   - Interface Segregation
   - Dependency Inversion

3. **Security**
   - Authentication & Authorization
   - Input Validation (Ù‡Ù…ÛŒØ´Ù‡)
   - SQL Injection Prevention
   - XSS Prevention
   - CSRF Protection
   - Secure Password Hashing (BCrypt, Argon2)

4. **Exception Handling**
   - Global Exception Handler
   - Custom Domain Exceptions
   - Never catch Exception without logging
   - Never expose stack traces to users
   - Proper HTTP status codes

5. **Code Quality**
   - No magic strings/numbers
   - Meaningful names (self-documenting)
   - No commented code (use git history)
   - Max method complexity: 10
   - Max class size: 300 lines

---

#### **P1 - Important** (Production-Ready - WARNING)
âš ï¸ Ø¨Ø§ÛŒØ¯ Ù‚Ø¨Ù„ Ø§Ø² production Ø±ÙØ¹ Ø´ÙˆØ¯

1. **CQRS Pattern**
   - Commands: ØªØºÛŒÛŒØ± state
   - Queries: Ø®ÙˆØ§Ù†Ø¯Ù† data
   - Ø¬Ø¯Ø§Ø³Ø§Ø²ÛŒ ÙˆØ§Ø¶Ø­ Ø¨ÛŒÙ† read Ùˆ write models

2. **Domain-Driven Design**
   - Aggregates Ø¨Ø§ clear boundaries
   - Value Objects Ø¨Ù‡ Ø¬Ø§ÛŒ primitive types
   - Domain Events Ø¨Ø±Ø§ÛŒ side effects
   - Ubiquitous Language Ø¯Ø± Ù†Ø§Ù…â€ŒÚ¯Ø°Ø§Ø±ÛŒ

3. **Validation**
   - FluentValidation Ø¨Ø±Ø§ÛŒ Commands/DTOs
   - Domain validation Ø¯Ø± Entities
   - Client-side validation Ø¨Ø±Ø§ÛŒ UX
   - Never trust user input

4. **Observability**
   - Structured Logging (Serilog)
   - Correlation IDs Ø¨Ø±Ø§ÛŒ ØªÙ…Ø§Ù… requests
   - OpenTelemetry Tracing
   - Metrics (Counter, Gauge, Histogram)

5. **Testing**
   - Unit Tests Ø¨Ø±Ø§ÛŒ Business Logic
   - Integration Tests Ø¨Ø±Ø§ÛŒ Repositories
   - Contract Tests Ø¨Ø±Ø§ÛŒ APIs
   - Minimum 80% coverage Ø¨Ø±Ø§ÛŒ Domain layer

6. **API Design**
   - RESTful conventions
   - Versioning (URL or Header)
   - Swagger/OpenAPI documentation
   - Consistent response format
   - Proper HTTP status codes

7. **Performance**
   - Async/await Ø¨Ù‡ Ø¯Ø±Ø³ØªÛŒ
   - No N+1 queries (Include, AsSplitQuery)
   - Pagination Ø¨Ø±Ø§ÛŒ lists
   - Caching strategy
   - Connection pooling

---

#### **P2 - Advanced** (Enterprise-Grade - SUGGESTION)
ğŸ’¡ Nice-to-have Ø¨Ø±Ø§ÛŒ Ø¢ÛŒÙ†Ø¯Ù‡ ÛŒØ§ enterprise deployments

1. **Resilience Patterns**
   - Circuit Breaker (Polly)
   - Retry with exponential backoff
   - Timeout policies
   - Bulkhead isolation
   - Fallback strategies

2. **Reliability**
   - Outbox Pattern Ø¨Ø±Ø§ÛŒ messaging
   - Idempotency Ø¨Ø±Ø§ÛŒ APIs
   - Eventual consistency handling
   - Dead Letter Queue

3. **Advanced Observability**
   - Distributed Tracing (Jaeger, Zipkin)
   - APM (Application Performance Monitoring)
   - Custom Metrics Dashboard
   - Alerts & Notifications
   - Health Checks (liveness, readiness)

4. **Advanced Testing**
   - Mutation Testing
   - Performance Testing (JMeter, k6)
   - Chaos Engineering
   - Security Testing (OWASP ZAP)

5. **Architecture**
   - Event Sourcing (where appropriate)
   - CQRS with separate databases
   - Microservices communication patterns
   - API Gateway

---

## ğŸ­ Project-Specific Context

### Cando Framework
- **Purpose**: Generic low-code platform
- **Features**: Form Generation, Report Generation, Dashboard, BPMN, BPMS
- **Principles**: 
  - Generic Ùˆ Reusable
  - Extensible through interfaces
  - No business logic (ÙÙ‚Ø· infrastructure)
  - Nuget Package Ø¨Ø±Ø§ÛŒ distribution

### Club Platform
- **Purpose**: Customer Loyalty Platform (Ø¨Ø§Ø´Ú¯Ø§Ù‡ Ù…Ø´ØªØ±ÛŒØ§Ù†)
- **Domain**: 
  - Customer Management
  - Points & Rewards
  - Products & Assets
  - Promotions & Lottery
  - Events & Scoring Rules
- **Based on**: Cando Framework
- **Principles**:
  - Domain-rich (business logic Ø¯Ø± Domain)
  - Uses Cando for UI generation
  - Extensible for different industries

---

## ğŸš¦ Decision Framework

### ÙˆÙ‚ØªÛŒ Ú©Ø¯ Ù…ÛŒâ€ŒÙ†ÙˆÛŒØ³ÛŒ ÛŒØ§ review Ù…ÛŒâ€ŒÚ©Ù†ÛŒ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 1: MVP (Minimum Viable Product)      â”‚
â”‚ âœ… P0 (Critical) - Ù‡Ù…Ù‡                     â”‚
â”‚ âœ… P1 (Important) - Ù¾Ø§ÛŒÙ‡ (Validation, Log) â”‚
â”‚ âŒ P2 (Advanced) - Ù†Ù‡ Ø§Ù„Ø§Ù†                  â”‚
â”‚ Timeline: Ø³Ø±ÛŒØ¹ØŒ Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 2: Production-Ready                   â”‚
â”‚ âœ… P0 (Critical) - Ù‡Ù…Ù‡                     â”‚
â”‚ âœ… P1 (Important) - Ú©Ø§Ù…Ù„                   â”‚
â”‚ âš ï¸ P2 (Advanced) - Ø´Ø±ÙˆØ¹ (Circuit Breaker)  â”‚
â”‚ Timeline: Ù‚Ø¨Ù„ Ø§Ø² production release        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Phase 3: Enterprise-Grade                   â”‚
â”‚ âœ… P0 (Critical) - Ù‡Ù…Ù‡                     â”‚
â”‚ âœ… P1 (Important) - Ù‡Ù…Ù‡                    â”‚
â”‚ âœ… P2 (Advanced) - Ù‡Ù…Ù‡                     â”‚
â”‚ Timeline: Ø¨Ø±Ø§ÛŒ Ù…Ù‚ÛŒØ§Ø³ Ø¨Ø²Ø±Ú¯ Ùˆ critical      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Review Checklist

### ÙˆÙ‚ØªÛŒ Ú©Ø¯ review Ù…ÛŒâ€ŒÚ©Ù†ÛŒ:

#### **P0 - Ù…Ø³Ø¯ÙˆØ¯Ú©Ù†Ù†Ø¯Ù‡ (Block PR)**
- [ ] Domain Ø¨Ù‡ Infrastructure ÙˆØ§Ø¨Ø³ØªÙ‡ Ù†ÛŒØ³ØªØŸ
- [ ] SOLID principles Ø±Ø¹Ø§ÛŒØª Ø´Ø¯Ù‡ØŸ
- [ ] Input validation ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯ØŸ
- [ ] Exception handling ØµØ­ÛŒØ­ Ø§Ø³ØªØŸ
- [ ] Security vulnerabilities Ù†Ø¯Ø§Ø±Ø¯ØŸ
- [ ] Secrets Ù‡Ø§Ø±Ø¯Ú©Ø¯ Ù†Ø´Ø¯Ù‡ØŸ

#### **P1 - Ù‡Ø´Ø¯Ø§Ø± (Warn Ø¯Ø± PR)**
- [ ] Unit tests Ù†ÙˆØ´ØªÙ‡ Ø´Ø¯Ù‡ØŸ
- [ ] Logging Ù…Ù†Ø§Ø³Ø¨ Ø§Ø³Øª? (Ø¨Ø§ correlation ID)
- [ ] Validation Ø¬Ø§Ù…Ø¹ Ø§Ø³ØªØŸ
- [ ] API design RESTful Ø§Ø³ØªØŸ
- [ ] Performance issues Ù†Ø¯Ø§Ø±Ø¯ØŸ (N+1, memory leak)
- [ ] Documentation Ú©Ø§ÙÛŒ Ø§Ø³ØªØŸ

#### **P2 - Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ (Comment Ø¯Ø± PR)**
- [ ] Circuit breaker Ù†ÛŒØ§Ø² Ø¯Ø§Ø±Ø¯ØŸ
- [ ] Retry policy Ù…ÙÛŒØ¯ Ø§Ø³ØªØŸ
- [ ] Metrics Ø§Ø¶Ø§ÙÙ‡ Ø´ÙˆØ¯ØŸ
- [ ] Integration test Ù†ÛŒØ§Ø² Ø§Ø³ØªØŸ

---

## ğŸ’¬ Communication Style

### Ø¯Ø± Feedback:
1. **Ù…Ø´Ø®Øµ Ú©Ù† Priority Ú†ÛŒÙ‡:**
   - âŒ BLOCK: "Ø§ÛŒÙ† Ù†Ù‚Ø¶ Clean Architecture Ø§Ø³Øª - Domain Ø¨Ù‡ MediatR ÙˆØ§Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù‡"
   - âš ï¸ WARN: "Validation Ù†Ø¯Ø§Ø±ÛŒÙ… - Ø¨Ø§ÛŒØ¯ FluentValidation Ø§Ø¶Ø§ÙÙ‡ Ø´ÙˆØ¯"
   - ğŸ’¡ SUGGEST: "Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒÙ… Circuit Breaker Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒÙ… Ø¨Ø±Ø§ÛŒ reliability Ø¨Ù‡ØªØ±"

2. **Ø¯Ù„ÛŒÙ„ Ø¨ÛŒØ§Ø±:**
   ```
   âŒ Bad: "Ø§ÛŒÙ† Ú©Ø¯ Ø¨Ø¯Ù‡"
   âœ… Good: "Ø§ÛŒÙ† Ú©Ø¯ Ù†Ù‚Ø¶ SRP Ù…ÛŒâ€ŒÚ©Ù†Ù‡ Ú†ÙˆÙ† Ù‡Ù… validation Ùˆ Ù‡Ù… business logic Ø¯Ø§Ø±Ù‡. Ø¨Ø§ÛŒØ¯ Ø¬Ø¯Ø§ Ø¨Ø´Ù†."
   ```

3. **Alternative Ø¨Ø¯Ù‡:**
   ```
   âŒ Bad: "Ø§ÛŒÙ† Ø±ÙˆØ´ Ø§Ø´ØªØ¨Ø§Ù‡Ù‡"
   âœ… Good: "Ø¨Ù‡ Ø¬Ø§ÛŒ throw Exception Ø¯Ø± DomainØŒ Ø§Ø² Result<T> Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù† Ú©Ù‡ type-safe Ù‡Ø³Øª"
   ```

4. **Trade-offs ØªÙˆØ¶ÛŒØ­ Ø¨Ø¯Ù‡:**
   ```
   "Outbox Pattern reliability Ø±Ùˆ 99.9% Ù…ÛŒâ€ŒÚ©Ù†Ù‡ ÙˆÙ„ÛŒ:
   - Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ Ø¨ÛŒØ´ØªØ±
   - Latency Ø§Ø¶Ø§ÙÙ‡
   - Ù†ÛŒØ§Ø² Ø¨Ù‡ background job
   
   Ø¨Ø±Ø§ÛŒ MVP Ø´Ø§ÛŒØ¯ Simple Publish Ú©Ø§ÙÛŒ Ø¨Ø§Ø´Ù‡ØŒ Ø¨Ø¹Ø¯Ø§Ù‹ refactor Ú©Ù†ÛŒÙ…."
   ```

5. **Ù…Ø«Ø¨Øª Ù‡Ù… Ø¨Ú¯Ùˆ:**
   ```
   âœ… "Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Value Objects Ø§ÛŒÙ†Ø¬Ø§ Ø¹Ø§Ù„ÛŒÙ‡! Type-safety Ùˆ domain clarity Ø±Ùˆ Ø¨Ø§Ù„Ø§ Ø¨Ø±Ø¯Ù‡"
   ```

---

## ğŸ”§ Common Patterns

### Domain Layer
```csharp
// âœ… GOOD: Pure domain, no infrastructure
public class Customer : AggregateRoot<CustomerId>
{
    public CustomerName Name { get; private set; }
    public Email Email { get; private set; }
    
    public Result<Customer> ChangeName(CustomerName newName)
    {
        if (newName == Name) return Result.Success(this);
        
        Name = newName;
        AddDomainEvent(new CustomerNameChanged(Id, newName));
        
        return Result.Success(this);
    }
}

// âŒ BAD: Domain coupled to infrastructure
public class Customer : INotification // âŒ MediatR dependency
{
    public string Name { get; set; } // âŒ Primitive obsession, public setter
}
```

### Application Layer
```csharp
// âœ… GOOD: CQRS with validation
public record CreateCustomerCommand(string Name, string Email) : IRequest<Result<Guid>>;

public class CreateCustomerCommandValidator : AbstractValidator<CreateCustomerCommand>
{
    public CreateCustomerCommandValidator()
    {
        RuleFor(x => x.Name).NotEmpty().MaximumLength(100);
        RuleFor(x => x.Email).NotEmpty().EmailAddress();
    }
}

public class CreateCustomerCommandHandler : IRequestHandler<CreateCustomerCommand, Result<Guid>>
{
    private readonly ICustomerRepository _repository;
    private readonly ILogger<CreateCustomerCommandHandler> _logger;

    public async Task<Result<Guid>> Handle(CreateCustomerCommand request, CancellationToken ct)
    {
        using var activity = Activity.Current?.Source.StartActivity("CreateCustomer");
        activity?.SetTag("customer.email", request.Email);

        try
        {
            var nameResult = CustomerName.Create(request.Name);
            var emailResult = Email.Create(request.Email);
            
            if (nameResult.IsFailure || emailResult.IsFailure)
                return Result.Failure<Guid>(nameResult.Error ?? emailResult.Error);

            var customer = Customer.Create(nameResult.Value, emailResult.Value);
            
            await _repository.AddAsync(customer, ct);
            
            _logger.LogInformation("Customer created: {CustomerId}", customer.Id);
            
            return Result.Success(customer.Id.Value);
        }
        catch (Exception ex)
        {
            _logger.LogError(ex, "Error creating customer");
            activity?.SetStatus(ActivityStatusCode.Error, ex.Message);
            throw;
        }
    }
}
```

---

## ğŸ“‹ Refactoring Strategy

### ÙˆÙ‚ØªÛŒ technical debt Ù…ÛŒâ€ŒØ¨ÛŒÙ†ÛŒ:

1. **Document Ú©Ù†:**
   ```csharp
   // TODO: [P1] Add validation - lacks email format check
   // TODO: [P2] Add retry policy for external API call
   // TECH-DEBT: This violates SRP - extract to separate service
   ```

2. **Scope Ø±Ùˆ Confirm Ú©Ù†:**
   ```
   "Ø§ÛŒÙ† Ú©Ø¯ Û³ Ù…Ø´Ú©Ù„ Ø¯Ø§Ø±Ù‡:
   âŒ P0: Security - SQL injection risk
   âš ï¸ P1: No tests
   ğŸ’¡ P2: Could use caching
   
   Ø§Ù„Ø§Ù† Ù‡Ù…Ù‡ Ø±Ùˆ fix Ú©Ù†ÛŒÙ… ÛŒØ§ ÙÙ‚Ø· P0ØŸ"
   ```

3. **Migration Path Ø¨Ø¯Ù‡:**
   ```
   Step 1: Fix security (P0) - 30 min
   Step 2: Add tests (P1) - 1 hour  
   Step 3: Add caching (P2) - 2 hours
   
   Total: 3.5 hours ÛŒØ§ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒÙ… P2 Ø±Ùˆ Ø¨Ù‡ Ø¨Ø¹Ø¯ Ù…ÙˆÚ©ÙˆÙ„ Ú©Ù†ÛŒÙ…
   ```

### ğŸ¯ Refactoring Risk Assessment

#### Ù‚Ø¨Ù„ Ø§Ø² Ø´Ø±ÙˆØ¹ Ù‡Ø± ØªØ³Ú© Ø±ÛŒÙÚ©ØªÙˆØ±:

1. **ØªØ®Ù…ÛŒÙ† Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ:**
   ```
   ğŸŸ¢ Low (1-2 Ø³Ø§Ø¹Øª): ØªØºÛŒÛŒØ±Ø§Øª Ù…Ø­Ù„ÛŒØŒ Ø¨Ø¯ÙˆÙ† ØªØ¯Ø§Ø®Ù„
   ğŸŸ¡ Medium (3-6 Ø³Ø§Ø¹Øª): ØªØºÛŒÛŒØ±Ø§Øª Ú†Ù†Ø¯ ÙØ§ÛŒÙ„ØŒ Ø±ÛŒØ³Ú© ØªØ¯Ø§Ø®Ù„ Ù…ØªÙˆØ³Ø·
   ğŸ”´ High (6+ Ø³Ø§Ø¹Øª): ØªØºÛŒÛŒØ±Ø§Øª Ú¯Ø³ØªØ±Ø¯Ù‡ØŒ Ø±ÛŒØ³Ú© ØªØ¯Ø§Ø®Ù„ Ø¨Ø§Ù„Ø§
   ```

2. **Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ Ø±ÛŒØ³Ú© ØªØºÛŒÛŒØ±:**
   ```
   ğŸŸ¢ Low Risk:
   - ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯
   - Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† functionality Ø¬Ø¯ÛŒØ¯
   - ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± CSS/JavaScript Ù…Ø­Ù„ÛŒ
   
   ğŸŸ¡ Medium Risk:
   - ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± shared components
   - ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± database schema
   - ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± API contracts
   
   ğŸ”´ High Risk:
   - ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± core architecture
   - ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± authentication/authorization
   - ØªØºÛŒÛŒØ±Ø§Øª Ø¯Ø± critical business logic
   ```

3. **Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ú©Ø§Ù‡Ø´ Ø±ÛŒØ³Ú©:**
   ```
   Ø¨Ø±Ø§ÛŒ Medium/High Risk:
   âœ… Feature flags Ø¨Ø±Ø§ÛŒ gradual rollout
   âœ… A/B testing Ø¨Ø±Ø§ÛŒ ØªØºÛŒÛŒØ±Ø§Øª UI
   âœ… Database migrations Ø¨Ø§ rollback plan
   âœ… Comprehensive testing (unit + integration)
   âœ… Staging environment testing
   âœ… Monitoring Ùˆ alerting
   ```

4. **Decision Matrix:**
   ```
   Ù¾ÛŒÚ†ÛŒØ¯Ú¯ÛŒ Ã— Ø±ÛŒØ³Ú© = Ø§ÙˆÙ„ÙˆÛŒØª
   
   ğŸŸ¢ Low Ã— Low = Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ (Ø³Ø±ÛŒØ¹)
   ğŸŸ¡ Medium Ã— Low = Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ (Ø¨Ø§ Ø§Ø­ØªÛŒØ§Ø·)
   ğŸŸ¡ Low Ã— Medium = Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ (Ø¨Ø§ ØªØ³Øª)
   ğŸ”´ Medium Ã— Medium = Ø¨Ø±Ø±Ø³ÛŒ Ø¨ÛŒØ´ØªØ± Ù†ÛŒØ§Ø²
   ğŸ”´ High Ã— Any = Ù†ÛŒØ§Ø² Ø¨Ù‡ approval Ùˆ planning
   ```

---

## ğŸš¨ Red Flags (ÙÙˆØ±Ø§Ù‹ Block Ú©Ù†)

1. **Security**:
   - String concatenation Ø¯Ø± SQL queries
   - Passwords Ø¯Ø± plain text
   - User input Ø¨Ø¯ÙˆÙ† validation
   - Secrets Ø¯Ø± code

2. **Architecture**:
   - Domain â†’ Infrastructure dependency
   - Circular dependencies
   - God classes (>500 lines)
   - Static mutable state

3. **Code Smell**:
   - Catch Exception Ø¨Ø¯ÙˆÙ† log
   - Thread.Sleep Ø¯Ø± production
   - ConfigureAwait(false) Ø¯Ø± library code
   - Using var disposable; Ø¨Ø¯ÙˆÙ† using block

---

## ğŸ¨ UI/UX Design Principles

### Core Philosophy
> **"Ø·Ø±Ø§Ø­ÛŒ Ø®ÙˆØ¨ Ù†Ø§Ù…Ø±Ø¦ÛŒ Ø§Ø³Øª - Ú©Ø§Ø±Ø¨Ø± Ù†Ø¨Ø§ÛŒØ¯ ÙÚ©Ø± Ú©Ù†Ø¯ØŒ ÙÙ‚Ø· Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯"**

### P0 - Ø§ØµÙˆÙ„ Ø¨Ù†ÛŒØ§Ø¯ÛŒ (ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ù…Ø°Ø§Ú©Ø±Ù‡)

#### 1ï¸âƒ£ **Consistency (ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ)**
```
âœ… DO:
- Ø§Ø² ÛŒÚ© design system ÙˆØ§Ø­Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù† (Ø±Ù†Ú¯â€ŒÙ‡Ø§ØŒ ÙÙˆÙ†Øªâ€ŒÙ‡Ø§ØŒ spacing)
- Icon Ù‡Ø§ Ø±Ø§ Ø§Ø² ÛŒÚ© Ù…Ù†Ø¨Ø¹ Ù…Ø±Ú©Ø²ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†
- Naming convention ÛŒÚ©Ø³Ø§Ù† Ø¨Ø±Ø§ÛŒ CSS classes
- Component Ù‡Ø§ÛŒ Ù‚Ø§Ø¨Ù„ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…Ø¬Ø¯Ø¯

âŒ DON'T:
- Ù‡Ø± ØµÙØ­Ù‡ ÛŒÚ© Ø³Ø¨Ú© Ù…ØªÙØ§ÙˆØª
- Inline styles Ù¾Ø±Ø§Ú©Ù†Ø¯Ù‡
- Hard-coded values
- Copy-paste Ú©Ø¯ UI
```

#### 2ï¸âƒ£ **Accessibility (Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ¾Ø°ÛŒØ±ÛŒ)**
- Semantic HTML (header, nav, main, article)
- ARIA labels Ø¨Ø±Ø§ÛŒ screen readers
- Keyboard navigation (Tab, Enter, Esc)
- Color contrast ratio Ø­Ø¯Ø§Ù‚Ù„ 4.5:1
- Focus indicators ÙˆØ§Ø¶Ø­
- Interactive elements Ø­Ø¯Ø§Ù‚Ù„ 44x44px

#### 3ï¸âƒ£ **Responsiveness (Ù¾Ø§Ø³Ø®Ú¯ÙˆÛŒÛŒ)**
- Mobile-First Approach
- Breakpoints Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯: 768px (tablet), 1024px (desktop)
- Grid system: 12 columns
- Flexible images Ùˆ media queries

#### 4ï¸âƒ£ **RTL Support**
- Ø§Ø² `margin-inline-start/end` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†
- Ø¬Ù‡Øª icon Ù‡Ø§ Ùˆ arrow Ù‡Ø§ Ø±Ø§ Ø¨Ø±Ø§ÛŒ RTL Ù…Ø¹Ú©ÙˆØ³ Ú©Ù†
- `dir="rtl"` Ø¯Ø± Ø³Ø·Ø­ Ø¨Ø§Ù„Ø§
- Ù‡Ø±Ú¯Ø² Ø§Ø² `left/right` Ù…Ø³ØªÙ‚ÛŒÙ… Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ú©Ù†

### P1 - Ø¨Ù‡ØªØ±ÛŒÙ† Ø´ÛŒÙˆÙ‡â€ŒÙ‡Ø§

#### 5ï¸âƒ£ **Visual Hierarchy**
- Size: Ø¨Ø²Ø±Ú¯â€ŒØªØ± = Ù…Ù‡Ù…â€ŒØªØ±
- Color: Ø±Ù†Ú¯ÛŒ = Ú©Ù„ÛŒØ¯ÛŒØŒ Ø®Ø§Ú©Ø³ØªØ±ÛŒ = Ø«Ø§Ù†ÙˆÛŒÙ‡
- Weight: bold = Ø¹Ù†ÙˆØ§Ù†ØŒ normal = Ù…ØªÙ†
- Spacing: ÙØ§ØµÙ„Ù‡ = Ú¯Ø±ÙˆÙ‡â€ŒØ¨Ù†Ø¯ÛŒ

#### 6ï¸âƒ£ **Color Psychology**
- Success: Ø³Ø¨Ø² (#10B981)
- Warning: Ù†Ø§Ø±Ù†Ø¬ÛŒ (#F59E0B)
- Error: Ù‚Ø±Ù…Ø² (#EF4444)
- Info: Ø¢Ø¨ÛŒ (#0EA5E9)

#### 7ï¸âƒ£ **Performance**
- SVG sprite Ø¨Ø±Ø§ÛŒ icon Ù‡Ø§ (ÛŒÚ© ÙØ§ÛŒÙ„)
- Lazy loading Ø¨Ø±Ø§ÛŒ ØªØµØ§ÙˆÛŒØ±
- CSS minification
- Animation Ø¨Ø§ CSS (Ù†Ù‡ JavaScript)

#### 8ï¸âƒ£ **Micro-interactions**
- Button hover: instant
- Click feedback: 100-200ms
- Transition: 300ms
- Toast messages: 2-3s

### Club Platform Specific

#### Icon Management
```
âœ… Ø§Ø³ØªØ§Ù†Ø¯Ø§Ø±Ø¯:
- Ù‡Ù…Ù‡ icon Ù‡Ø§ Ø¯Ø± club-sprite.svg
- Naming: kebab-case (user-circle)
- Ø±Ù†Ú¯ Ø¨Ø± Ø§Ø³Ø§Ø³ domain (Customer=Ø³Ø¨Ø²ØŒ Scoring=Ù‚Ø±Ù…Ø²)
- Ø³Ø§ÛŒØ²: 24x24px viewBox
- Style: Outline

ğŸ“ /Content/club-icons/
  â”œâ”€â”€ club-sprite.svg
  â”œâ”€â”€ club-menu-icons.css
  â””â”€â”€ README.md
```

#### UI Checklist (Ù‚Ø¨Ù„ Ø§Ø² PR)
```
â–¡ Design system Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø´Ø¯Ù‡ØŸ
â–¡ RTL ØµØ­ÛŒØ­ Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ
â–¡ Ù…ÙˆØ¨Ø§ÛŒÙ„ responsive Ø§Ø³ØªØŸ
â–¡ Keyboard navigation Ú©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯ØŸ
â–¡ Color contrast Ú©Ø§ÙÛŒ Ø§Ø³ØªØŸ
â–¡ Loading/Error states ØªØ¹Ø±ÛŒÙ Ø´Ø¯Ù‡ØŸ
â–¡ Icon Ù‡Ø§ Ù…Ø¹Ù†Ø§Ø¯Ø§Ø± Ùˆ consistent Ù‡Ø³ØªÙ†Ø¯ØŸ
â–¡ Spacing Ù…Ù†Ø·Ù‚ÛŒ Ø§Ø³Øª (8px grid)?
```

### ğŸš« Anti-Patterns
```
âŒ NEVER:
- Inline styles Ø¨Ø¯ÙˆÙ† Ø¯Ù„ÛŒÙ„
- !important Ø¨Ø±Ø§ÛŒ override
- Magic numbers (Ú†Ø±Ø§ 17pxØŸ)
- Ø±Ù†Ú¯â€ŒÙ‡Ø§ÛŒ ØªØµØ§Ø¯ÙÛŒ
- Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ† accessibility
- Animation Ù‡Ø§ÛŒ Ø¢Ø²Ø§Ø±Ø¯Ù‡Ù†Ø¯Ù‡
```

---

## ğŸ“– Learning Resources

### Ù…Ø·Ø§Ù„Ø¹Ù‡ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ:
- Clean Architecture (Robert C. Martin)
- Domain-Driven Design (Eric Evans)
- Implementing Domain-Driven Design (Vaughn Vernon)
- Microservices Patterns (Chris Richardson)
- Release It! (Michael Nygard) - Resilience patterns

### Code Examples:
- [eShopOnContainers](https://github.com/dotnet-architecture/eShopOnContainers)
- [Clean Architecture Template](https://github.com/jasontaylordev/CleanArchitecture)

---

## ğŸ¯ Summary

Ø§ÛŒÙ† guidelines Ø¨Ø±Ø§ÛŒ:
- âœ… **Ø¨Ù‡Ø¨ÙˆØ¯ Ú©ÛŒÙÛŒØª** Ú©Ø¯
- âœ… **ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ** Ø¯Ø± ØªØµÙ…ÛŒÙ…Ø§Øª Ù…Ø¹Ù…Ø§Ø±ÛŒ
- âœ… **Ú©Ø§Ù‡Ø´ technical debt**
- âœ… **Ø§ÙØ²Ø§ÛŒØ´ maintainability**
- âœ… **ØªØ³Ù‡ÛŒÙ„ onboarding** Ø§Ø¹Ø¶Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ ØªÛŒÙ…

**ÛŒØ§Ø¯Ø¢ÙˆØ±ÛŒ**: Ø§ÛŒÙ† guidelines Ø²Ù†Ø¯Ù‡ Ù‡Ø³ØªÙ†Ø¯ - Ø¨Ø§ Ø±Ø´Ø¯ Ù¾Ø±ÙˆÚ˜Ù‡ Ø¢Ù¾Ø¯ÛŒØª Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯.

---

**Version**: 1.1.0  
**Last Updated**: October 14, 2025  
**Maintained By**: Architecture Team  
**Latest Changes**: Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ø®Ø´ UI/UX Design Principles

